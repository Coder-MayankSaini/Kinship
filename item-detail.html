<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <meta name="theme-color" content="#2563eb">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <title>Item Details - Kinship</title>

    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="32x32" href="assets/images/favicon.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/images/favicon.png">
    <link rel="apple-touch-icon" href="assets/images/favicon.png">
    <link rel="shortcut icon" href="assets/images/favicon.png">

    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/navigation.css">
    <link rel="stylesheet" href="css/item-detail.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/responsive.css">
</head>

<body>
    <header>
        <nav class="navbar" aria-label="Main navigation - pirate ship themed">
            <div class="nav-container">
                <div class="nav-logo">
                    <a href="index.html">
                        <img src="assets/images/kinship_logo.webp" alt="Kinship" class="logo-image">
                    </a>
                    <div class="sr-only">Pirate-themed treasure sharing platform</div>
                </div>
                <ul class="nav-menu" id="nav-menu" aria-hidden="true">
                    <li><a href="index.html" aria-label="Home - anchor themed">Home</a></li>
                    <li><a href="browse.html" aria-label="Browse - telescope themed">Browse</a></li>
                    <li><a href="list-item.html" aria-label="List Item - ship themed">List Item</a></li>
                    <li><a href="profile.html" aria-label="Profile - treasure chest themed">Profile</a></li>
                    <li><a href="auth.html" aria-label="Login - compass themed">Login</a></li>
                </ul>
                <button class="hamburger" aria-label="Toggle navigation menu - rope knot styled" aria-expanded="false"
                    aria-controls="nav-menu">
                    <span aria-hidden="true"></span>
                    <span aria-hidden="true"></span>
                    <span aria-hidden="true"></span>
                </button>
            </div>
        </nav>
    </header>

    <main class="item-detail-page" role="main">
        <nav class="breadcrumb" aria-label="Breadcrumb navigation">
            <ol>
                <li><a href="index.html">Home</a></li>
                <li><a href="browse.html">Browse</a></li>
                <li><span id="item-title-breadcrumb" aria-current="page">Item Details</span></li>
            </ol>
        </nav>

        <div class="item-detail-content">
            <div class="item-images" role="img" aria-labelledby="item-title"
                aria-label="Treasure showcase - ornate pirate-themed image gallery">
                <div class="image-gallery">
                    <div class="sr-only">This image gallery is styled as a pirate treasure showcase with ornate gold
                        frames</div>
                    <div class="main-image">
                        <img id="main-item-image" src="" alt="" role="img">
                        <button class="favorite-btn" id="favorite-btn"
                            aria-label="Add to favorites - heart shaped treasure">
                            <span aria-hidden="true">♡</span>
                        </button>
                    </div>
                    <div class="thumbnail-images" id="thumbnail-images" role="list"
                        aria-label="Item image thumbnails - pirate treasure frames">
                        <!-- Thumbnails will be populated by JavaScript -->
                    </div>
                </div>
            </div>

            <div class="item-info">
                <h1 id="item-title">Loading...</h1>
                <div class="item-rating" aria-label="Item rating">
                    <span class="stars" id="item-stars" aria-hidden="true">☆☆☆☆☆</span>
                    <span class="rating-count" id="rating-count" aria-label="Number of reviews">(0 reviews)</span>
                    <span class="sr-only" id="rating-text">Rating information will be loaded</span>
                </div>

                <div class="pricing" aria-labelledby="pricing-heading">
                    <h2 id="pricing-heading" class="sr-only">Pricing Information</h2>
                    <span class="price" id="item-price" aria-label="Daily rental price">₹0/day</span>
                    <span class="weekly-price" id="weekly-price" aria-label="Weekly rental price">₹0/week</span>
                </div>

                <div class="item-description" aria-labelledby="description-heading">
                    <h3 id="description-heading">Description</h3>
                    <p id="item-description-text">Loading description...</p>
                </div>

                <div class="item-specifications" aria-labelledby="specs-heading">
                    <h3 id="specs-heading">Specifications</h3>
                    <div id="item-specs" role="list">
                        <!-- Specifications will be populated by JavaScript -->
                    </div>
                </div>

                <div class="availability-calendar" aria-labelledby="availability-heading">
                    <h3 id="availability-heading">Availability</h3>
                    <div id="calendar-widget" role="application" aria-label="Availability calendar">
                        <!-- Calendar will be populated by JavaScript -->
                    </div>
                </div>

                <div class="rental-actions">
                    <button class="rent-now-btn" id="rent-now-btn" aria-describedby="item-title">Rent Now</button>
                    <button class="contact-owner-btn" id="contact-owner-btn">Contact Owner</button>
                </div>
            </div>
        </div>

        <section class="owner-section" aria-labelledby="owner-heading">
            <h2 id="owner-heading">About the Owner</h2>
            <div class="owner-card" id="owner-card" role="region" aria-labelledby="owner-heading">
                <!-- Owner info will be populated by JavaScript -->
            </div>
        </section>

        <section id="reviews-section" aria-labelledby="reviews-heading">
            <h2 id="reviews-heading" class="sr-only">Customer Reviews</h2>
            <!-- Reviews will be populated by JavaScript using review components -->
        </section>
    </main>

    <!-- Rental Modal -->
    <div class="modal" id="rental-modal" role="dialog" aria-labelledby="rental-modal-title" aria-modal="true"
        aria-hidden="true">
        <div class="modal-content">
            <button class="close" aria-label="Close rental dialog">&times;</button>
            <h2 id="rental-modal-title">Rent This Item</h2>
            <form id="rental-form" aria-labelledby="rental-modal-title">
                <div class="date-selection">
                    <label for="start-date">Start Date:</label>
                    <input type="date" id="start-date" required aria-describedby="date-help">

                    <label for="end-date">End Date:</label>
                    <input type="date" id="end-date" required aria-describedby="date-help">
                    <div id="date-help" class="sr-only">Select your rental start and end dates</div>
                </div>

                <div class="message-section">
                    <label for="rental-message">Message to Owner (optional):</label>
                    <textarea id="rental-message" placeholder="Tell the owner about your rental needs..." rows="3"
                        aria-describedby="message-help"></textarea>
                    <div id="message-help" class="sr-only">Optional message to send to the item owner</div>
                </div>

                <div class="rental-summary" aria-labelledby="cost-heading">
                    <h3 id="cost-heading" class="sr-only">Cost Breakdown</h3>
                    <div class="cost-breakdown" role="table" aria-label="Rental cost breakdown">
                        <div class="cost-line" role="row">
                            <span role="cell">Daily rate:</span>
                            <span role="cell" id="daily-rate" aria-label="Daily rental rate">₹0</span>
                        </div>
                        <div class="cost-line" role="row">
                            <span role="cell">Number of days:</span>
                            <span role="cell" id="rental-days" aria-label="Number of rental days">0</span>
                        </div>
                        <div class="cost-line total" role="row">
                            <span role="cell">Total:</span>
                            <span role="cell" id="total-cost" aria-label="Total rental cost">₹0</span>
                        </div>
                    </div>
                </div>

                <button type="submit" class="confirm-rental-btn">Confirm Rental</button>
            </form>
        </div>
    </div>

    <!-- Core modules -->
    <script src="js/utils.js"></script>
    <script src="js/storage.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/search.js"></script>
    <script src="js/booking.js"></script>
    <script src="js/components.js"></script>
    <script src="js/sample-data.js"></script>
    <script src="js/sample-reviews.js"></script>
    
    <!-- Data Initializer - ensures sample data is loaded -->
    <script src="js/data-initializer.js"></script>

    <!-- Navigation and routing -->
    <script src="js/router.js"></script>

    <!-- Navbar cleanup -->
    <script src="js/navbar-cleanup.js"></script>

    <!-- Page-specific modules -->
    <script src="js/item-detail.js"></script>
    
    <!-- Date Pickers -->
    <script src="js/multi-date-picker.js"></script>
    <script src="js/rental-date-picker.js"></script>

    <!-- Accessibility enhancements -->
    <script src="js/accessibility.js"></script>

    <!-- Pirate theme animations -->
    <script src="js/pirate-animations.js"></script>

    <!-- Application finalization -->
    <script src="js/app-finalizer.js"></script>

    <!-- Main application -->
    <script src="js/main.js"></script>
</body>

</html>